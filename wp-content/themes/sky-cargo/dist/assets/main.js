function u(){const t=document.querySelector(".lead-form");t&&t.addEventListener("submit",async s=>{s.preventDefault();const e=t.querySelector(".js-form-message"),r=t.querySelector('button[type="submit"]');e.className="lead-form__message js-form-message",e.textContent="Отправка...",r.disabled=!0;const a=new FormData(t);try{const o=await(await fetch(t.getAttribute("action"),{method:"POST",body:a})).json();o.success?(e.classList.add("lead-form__message--success"),e.textContent=o.data,t.reset()):(e.classList.add("lead-form__message--error"),e.textContent=o.data)}catch(n){e.classList.add("lead-form__message--error"),e.textContent="Произошла ошибка при отправке. Попробуйте позже.",console.error("Form Submit Error:",n)}finally{r.disabled=!1}})}function m(){const t=document.querySelector(".js-burger-trigger"),s=document.querySelector(".js-burger-panel"),e=document.querySelector(".js-burger-backdrop"),r=document.body;if(!t||!s||!e)return;const a=()=>{s.classList.toggle("is-open"),t.classList.toggle("is-active"),e.classList.toggle("is-active"),r.classList.toggle("menu-open")},n=()=>{s.classList.remove("is-open"),t.classList.remove("is-active"),e.classList.remove("is-active"),r.classList.remove("menu-open")};t.addEventListener("click",a),e.addEventListener("click",n),s.querySelectorAll(".menu-item-has-children > a").forEach(i=>{i.addEventListener("click",d=>{d.preventDefault();const l=i.parentElement,c=l.querySelector(".sub-menu");l.classList.toggle("is-expanded"),c.style.display==="flex"?c.style.display="none":c.style.display="flex"})})}function g(){document.querySelectorAll(".js-expand-card").forEach(s=>{s.querySelector(".js-expand-trigger").addEventListener("click",()=>{s.classList.toggle("is-open")})})}document.addEventListener("DOMContentLoaded",()=>{u(),m(),g()});
