function u(){const t=document.querySelector(".lead-form");t&&t.addEventListener("submit",async s=>{s.preventDefault();const e=t.querySelector(".js-form-message"),r=t.querySelector('button[type="submit"]');e.className="lead-form__message js-form-message",e.textContent="Отправка...",r.disabled=!0;const c=new FormData(t);try{const n=await(await fetch(t.getAttribute("action"),{method:"POST",body:c})).json();n.success?(e.classList.add("lead-form__message--success"),e.textContent=n.data,t.reset()):(e.classList.add("lead-form__message--error"),e.textContent=n.data)}catch(o){e.classList.add("lead-form__message--error"),e.textContent="Произошла ошибка при отправке. Попробуйте позже.",console.error("Form Submit Error:",o)}finally{r.disabled=!1}})}function m(){const t=document.querySelector(".js-burger-trigger"),s=document.querySelector(".js-burger-panel"),e=document.querySelector(".js-burger-backdrop"),r=document.body;if(!t||!s||!e)return;const c=()=>{s.classList.toggle("is-open"),t.classList.toggle("is-active"),e.classList.toggle("is-active"),r.classList.toggle("menu-open")},o=()=>{s.classList.remove("is-open"),t.classList.remove("is-active"),e.classList.remove("is-active"),r.classList.remove("menu-open")};t.addEventListener("click",c),e.addEventListener("click",o),s.querySelectorAll(".menu-item-has-children > a").forEach(i=>{i.addEventListener("click",d=>{d.preventDefault();const l=i.parentElement,a=l.querySelector(".sub-menu");l.classList.toggle("is-expanded"),a.style.display==="flex"?a.style.display="none":a.style.display="flex"})})}function g(){document.querySelectorAll(".js-expand-card").forEach(s=>{s.querySelector(".js-expand-trigger").addEventListener("click",()=>{s.classList.toggle("is-open")})})}function f(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(s){s.preventDefault();const e=document.querySelector(this.getAttribute("href"));e&&e.scrollIntoView({behavior:"smooth",block:"start"})})})}document.addEventListener("DOMContentLoaded",()=>{u(),m(),g(),f()});
