function u(){const t=document.querySelector(".lead-form");t&&t.addEventListener("submit",async s=>{s.preventDefault();const e=t.querySelector(".js-form-message"),o=t.querySelector('button[type="submit"]');e.className="lead-form__message js-form-message",e.textContent="Отправка...",o.disabled=!0;const a=new FormData(t);try{const n=await(await fetch(t.getAttribute("action"),{method:"POST",body:a})).json();n.success?(e.classList.add("lead-form__message--success"),e.textContent=n.data,t.reset()):(e.classList.add("lead-form__message--error"),e.textContent=n.data)}catch(r){e.classList.add("lead-form__message--error"),e.textContent="Произошла ошибка при отправке. Попробуйте позже.",console.error("Form Submit Error:",r)}finally{o.disabled=!1}})}function m(){const t=document.querySelector(".js-burger-trigger"),s=document.querySelector(".js-burger-panel"),e=document.querySelector(".js-burger-backdrop"),o=document.body;if(!t||!s||!e)return;const a=()=>{s.classList.toggle("is-open"),t.classList.toggle("is-active"),e.classList.toggle("is-active"),o.classList.toggle("menu-open")},r=()=>{s.classList.remove("is-open"),t.classList.remove("is-active"),e.classList.remove("is-active"),o.classList.remove("menu-open")};t.addEventListener("click",a),e.addEventListener("click",r),s.querySelectorAll(".menu-item-has-children > a").forEach(l=>{l.addEventListener("click",d=>{d.preventDefault();const i=l.parentElement,c=i.querySelector(".sub-menu");i.classList.toggle("is-expanded"),c.style.display==="flex"?c.style.display="none":c.style.display="flex"})})}document.addEventListener("DOMContentLoaded",()=>{u(),m()});
